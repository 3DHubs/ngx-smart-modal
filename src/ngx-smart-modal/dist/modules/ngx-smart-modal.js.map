{"version":3,"file":"ngx-smart-modal.js","sources":["../../index.ts","../../public_api.ts","../../src/ngx-smart-modal.ts","../../src/modules/ngx-smart-modal.module.ts","../../src/components/ngx-smart-modal.component.ts","../../src/services/ngx-smart-modal.service.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {NgxSmartModalService,NgxSmartModalComponent,NgxSmartModalModule} from './public_api';\n","/**\n * Entry point for all public APIs of the package.\n */\nexport {NgxSmartModalService,NgxSmartModalComponent,NgxSmartModalModule} from './src/ngx-smart-modal';\n","// Public classes.\nexport {NgxSmartModalService} from './services/ngx-smart-modal.service';\nexport {NgxSmartModalComponent} from './components/ngx-smart-modal.component';\nexport {NgxSmartModalModule} from './modules/ngx-smart-modal.module';\n","import {CommonModule} from '@angular/common';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {NgModule, ModuleWithProviders} from '@angular/core';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {NgxSmartModalService} from '../services/ngx-smart-modal.service';\nimport {NgxSmartModalComponent} from '../components/ngx-smart-modal.component';\nexport class NgxSmartModalModule {\n/**\n * Use in AppModule: new instance of NgxSmartModal.\n * @return {?}\n */\npublic static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: NgxSmartModalModule,\n            providers: [NgxSmartModalService]\n        };\n    }\n/**\n * Use in features modules with lazy loading: new instance of NgxSmartModal.\n * @return {?}\n */\npublic static forChild(): ModuleWithProviders {\n        return {\n            ngModule: NgxSmartModalModule,\n            providers: [NgxSmartModalService]\n        };\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    declarations: [NgxSmartModalComponent],\n    exports: [NgxSmartModalComponent],\n    imports: [CommonModule, BrowserModule, BrowserAnimationsModule]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction NgxSmartModalModule_tsickle_Closure_declarations() {\n/** @type {?} */\nNgxSmartModalModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgxSmartModalModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Component, OnInit, Input, Output, EventEmitter, OnDestroy, HostListener} from '@angular/core';\nimport {trigger, style, animate, transition} from '@angular/animations';\nimport {NgxSmartModalService} from '../services/ngx-smart-modal.service';\nexport class NgxSmartModalComponent implements OnInit, OnDestroy {\npublic closable: boolean = true;\npublic escapeAble: boolean = true;\npublic identifier: string;\npublic customClass: string = '';\npublic visible: boolean = false;\npublic backdrop: boolean = true;\npublic force: boolean = true;\npublic visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\npublic onClose: EventEmitter<any> = new EventEmitter();\npublic onDismiss: EventEmitter<any> = new EventEmitter();\npublic onOpen: EventEmitter<any> = new EventEmitter();\npublic onEscape: EventEmitter<any> = new EventEmitter();\npublic layerPosition: number = 1041;\npublic overlayVisible: boolean = false;\n/**\n * @param {?} ngxSmartModalService\n */\nconstructor(private ngxSmartModalService: NgxSmartModalService) {\n  }\n/**\n * @return {?}\n */\npublic ngOnInit() {\n    this.layerPosition += this.ngxSmartModalService.getModalStackCount();\n    this.ngxSmartModalService.addModal({id: this.identifier, modal: this}, this.force);\n  }\n/**\n * @return {?}\n */\npublic ngOnDestroy() {\n    this.ngxSmartModalService.removeModal(this.identifier);\n  }\n/**\n * @param {?=} top\n * @return {?}\n */\npublic open(top?: boolean): void {\n    if (top) {\n      this.layerPosition = this.ngxSmartModalService.getHigherIndex();\n    }\n    if (!document.body.classList.contains('dialog-open')) {\n      document.body.classList.add('dialog-open');\n    }\n    this.overlayVisible = true;\n    this.visible = true;\n    this.onOpen.emit(this);\n  }\n/**\n * @return {?}\n */\npublic close(): void {\n    const /** @type {?} */ me = this;\n    this.visible = false;\n    this.visibleChange.emit(this.visible);\n    this.onClose.emit(this);\n    if (document.body.classList.contains('dialog-open')) {\n      document.body.classList.remove('dialog-open');\n    }\n    setTimeout(() => {\n      me.overlayVisible = false;\n    }, 150);\n  }\n/**\n * @param {?} e\n * @return {?}\n */\npublic dismiss(e: any): void {\n    const /** @type {?} */ me = this;\n    if (e.target.classList.contains('overlay')) {\n      this.visible = false;\n      this.visibleChange.emit(this.visible);\n      this.onDismiss.emit(this);\n      setTimeout(() => {\n        me.overlayVisible = false;\n      }, 150);\n    }\n  }\n/**\n * @param {?} className\n * @return {?}\n */\npublic addCustomClass(className: string): void {\n    if (!this.customClass.length) {\n      this.customClass = className;\n    } else {\n      this.customClass += ' ' + className;\n    }\n  }\n/**\n * @param {?=} className\n * @return {?}\n */\npublic removeCustomClass(className?: string): void {\n    if (className) {\n      this.customClass = this.customClass.replace(className, '').trim();\n    } else {\n      this.customClass = '';\n    }\n  }\n/**\n * @return {?}\n */\npublic isVisible(): boolean {\n    return this.visible;\n  }\n/**\n * @return {?}\n */\npublic hasData(): boolean {\n    return !!this.ngxSmartModalService.getModalData(this.identifier);\n  }\n/**\n * @param {?} data\n * @return {?}\n */\npublic setData(data: object | any[] | number | string | boolean): boolean {\n    return this.ngxSmartModalService.setModalData(data, this.identifier);\n  }\n/**\n * @return {?}\n */\npublic getData(): object | any[] | number | string | boolean {\n    return this.ngxSmartModalService.getModalData(this.identifier);\n  }\n/**\n * @return {?}\n */\npublic removeData(): void {\n    return this.ngxSmartModalService.resetModalData(this.identifier);\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate escapeKeyboardEvent(event: KeyboardEvent) {\n    if (this.escapeAble) {\n      const /** @type {?} */ x = event.keyCode;\n      if (x === 27) {\n        this.onEscape.emit(this);\n        this.ngxSmartModalService.closeLatestModal();\n      }\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  animations: [\n    trigger('dialog', [\n      transition('void => *', [\n        style({transform: 'scale3d(.3, .3, .3)'}),\n        animate(100)\n      ]),\n      transition('* => void', [\n        animate(100, style({transform: 'scale3d(.0, .0, .0)'}))\n      ])\n    ])\n  ],\n  selector: 'ngx-smart-modal',\n  template: `\n    <style>\n      .overlay {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        overflow-y: auto;\n        background-color: rgba(0, 0, 0, 0.5);\n        z-index: 999;\n      }\n\n      .overlay.transparent {\n        background-color: transparent;\n      }\n\n      body.dialog-open {\n        overflow: hidden;\n      }\n\n      .dialog {\n        visibility: visible;\n        position: absolute;\n        border-radius: 2px;\n        right: 0;\n        left: 0;\n        top: 20px;\n        margin-bottom: 20px;\n        margin-right: auto;\n        margin-left: auto;\n        min-height: 200px;\n        width: 90%;\n        max-width: 520px;\n        background-color: #fff;\n        padding: 12px;\n        box-shadow: 0 7px 8px -4px rgba(0, 0, 0, 0.2), 0 13px 19px 2px rgba(0, 0, 0, 0.14), 0 5px 24px 4px rgba(0, 0, 0, 0.12);\n      }\n\n      @media (min-width: 768px) {\n        .dialog {\n          top: 40px;\n          margin-bottom: 40px;\n        }\n      }\n\n      .dialog__close-btn {\n        border: 0;\n        background: none;\n        color: #2d2d2d;\n        position: absolute;\n        top: 8px;\n        right: 8px;\n        font-size: 1.2em;\n      }\n\n      .dialog__close-btn:hover {\n        cursor: pointer;\n      }\n    </style>\n    <div *ngIf=\"overlayVisible\" class=\"overlay\" [style.z-index]=\"layerPosition-1\"\n         [ngClass]=\"{'transparent':!backdrop}\"\n         (click)=\"dismiss($event)\">\n      <div [@dialog] *ngIf=\"visible\" [style.z-index]=\"layerPosition\" class=\"dialog\" [ngClass]=\"customClass\">\n        <ng-content></ng-content>\n        <button *ngIf=\"closable\" (click)=\"close()\" aria-label=\"Close\" class=\"dialog__close-btn\">\n          <img\n            src=\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDMsNi4wNThjLTguMDc3LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDksMEw2LjA1OCw0NzYuNjkzYy04LjA3Nyw4LjA3Ny04LjA3NywyMS4xNzIsMCwyOS4yNDkgICAgQzEwLjA5Niw1MDkuOTgyLDE1LjM5LDUxMiwyMC42ODMsNTEyYzUuMjkzLDAsMTAuNTg2LTIuMDE5LDE0LjYyNS02LjA1OUw1MDUuOTQzLDM1LjMwNiAgICBDNTE0LjAxOSwyNy4yMyw1MTQuMDE5LDE0LjEzNSw1MDUuOTQzLDYuMDU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNiAgICBjNC4wMzgsNC4wMzksOS4zMzIsNi4wNTgsMTQuNjI1LDYuMDU4YzUuMjkzLDAsMTAuNTg3LTIuMDE5LDE0LjYyNC02LjA1N0M1MTQuMDE4LDQ5Ny44NjYsNTE0LjAxOCw0ODQuNzcxLDUwNS45NDIsNDc2LjY5NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\" />\n        </button>\n      </div>\n    </div>\n  `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgxSmartModalService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'closable': [{ type: Input },],\n'escapeAble': [{ type: Input },],\n'identifier': [{ type: Input },],\n'customClass': [{ type: Input },],\n'visible': [{ type: Input },],\n'backdrop': [{ type: Input },],\n'force': [{ type: Input },],\n'visibleChange': [{ type: Output },],\n'onClose': [{ type: Output },],\n'onDismiss': [{ type: Output },],\n'onOpen': [{ type: Output },],\n'onEscape': [{ type: Output },],\n'escapeKeyboardEvent': [{ type: HostListener, args: ['document:keydown', ['$event'], ] },],\n};\n}\n\nfunction NgxSmartModalComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nNgxSmartModalComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgxSmartModalComponent.ctorParameters;\n/** @type {?} */\nNgxSmartModalComponent.propDecorators;\n/** @type {?} */\nNgxSmartModalComponent.prototype.closable;\n/** @type {?} */\nNgxSmartModalComponent.prototype.escapeAble;\n/** @type {?} */\nNgxSmartModalComponent.prototype.identifier;\n/** @type {?} */\nNgxSmartModalComponent.prototype.customClass;\n/** @type {?} */\nNgxSmartModalComponent.prototype.visible;\n/** @type {?} */\nNgxSmartModalComponent.prototype.backdrop;\n/** @type {?} */\nNgxSmartModalComponent.prototype.force;\n/** @type {?} */\nNgxSmartModalComponent.prototype.visibleChange;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onClose;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onDismiss;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onOpen;\n/** @type {?} */\nNgxSmartModalComponent.prototype.onEscape;\n/** @type {?} */\nNgxSmartModalComponent.prototype.layerPosition;\n/** @type {?} */\nNgxSmartModalComponent.prototype.overlayVisible;\n/** @type {?} */\nNgxSmartModalComponent.prototype.ngxSmartModalService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {NgxSmartModalComponent} from '../components/ngx-smart-modal.component';\nimport {ModalInstance} from './modal-instance';\nexport class NgxSmartModalService {\npublic modalStack: ModalInstance[] = [];\npublic modalData: any[] = [];\nprivate debouncer: any;\n/**\n * Add a new modal instance. This step is essential and allows to retrieve any modal at any time.\n * It stores an object that contains the given modal identifier and the modal itself directly in the `modalStack`.\n * \n * @param {?} modalInstance\n * @param {?=} force\n * @return {?}\n */\npublic addModal(modalInstance: ModalInstance, force?: boolean): void {\n        if (force) {\n            const /** @type {?} */ i: number = this.modalStack.findIndex((o: ModalInstance) => {\n                return o.id === modalInstance.id;\n            });\n            if (i > -1) {\n                this.modalStack[i].modal = modalInstance.modal;\n            } else {\n                this.modalStack.push(modalInstance);\n            }\n            return;\n        }\n        this.modalStack.push(modalInstance);\n    }\n/**\n * Retrieve a modal instance by its identifier.\n * \n * @param {?} id\n * @return {?}\n */\npublic getModal(id: string): NgxSmartModalComponent {\n        return this.modalStack.filter((o: any) => {\n            return o.id === id;\n        })[0].modal;\n    }\n/**\n * Retrieve all the created modals.\n * \n * @return {?}\n */\npublic getModalStack(): ModalInstance[] {\n        return this.modalStack;\n    }\n/**\n * Retrieve all the opened modals. It looks for all modal instances with their `visible` property set to `true`.\n * \n * @return {?}\n */\npublic getOpenedModals(): ModalInstance[] {\n        const /** @type {?} */ modals: ModalInstance[] = [];\n        this.modalStack.forEach((o: ModalInstance) => {\n            if (o.modal.visible) {\n                modals.push(o);\n            }\n        });\n        return modals;\n    }\n/**\n * Get the higher `z-index` value between all the modal instances. It iterates over the `ModalStack` array and\n * calculates a higher value (it takes the highest index value between all the modal instances and adds 1).\n * Use it to make a modal appear foreground.\n * \n * @return {?}\n */\npublic getHigherIndex(): number {\n        const /** @type {?} */ index: number[] = [];\n        const /** @type {?} */ modals: ModalInstance[] = this.getOpenedModals();\n        modals.forEach((o: ModalInstance) => {\n            index.push(o.modal.layerPosition);\n        });\n        return Math.max(...index) + 1;\n    }\n/**\n * It gives the number of modal instances. It's helpful to know if the modal stack is empty or not.\n * \n * @return {?}\n */\npublic getModalStackCount(): number {\n        return this.modalStack.length;\n    }\n/**\n * Remove a modal instance from the modal stack.\n * \n * @param {?} id\n * @return {?}\n */\npublic removeModal(id: string): void {\n        const /** @type {?} */ i: number = this.modalStack.findIndex((o: any) => {\n            return o.id === id;\n        });\n        if (i > -1) {\n            this.modalStack.splice(i, 1);\n        }\n    }\n/**\n * Associate data to an identified modal. If the modal isn't already associated to some data, it creates a new\n * entry in the `modalData` array with its `id` and the given `data`. If the modal already has data, it rewrites\n * them with the new ones. Finally if no modal found it returns an error message in the console and false value\n * as method output.\n * \n * @param {?} data\n * @param {?} id\n * @return {?}\n */\npublic setModalData(data: object | any[] | number | string | boolean, id: string): boolean {\n        if (!!this.modalStack.find((o: ModalInstance) => {\n                return o.id === id;\n            })) {\n            if (!!this.modalData.find((o) => {\n                    return o.id === id;\n                })) {\n                setTimeout(() => this.modalData[this.modalData.findIndex((o) => o.id === id)].data = data);\n            } else {\n                setTimeout(() => this.modalData.push({data, id}));\n            }\n            return true;\n        } else {\n            return false;\n        }\n    }\n/**\n * Retrieve modal data by its identifier.\n * \n * @param {?} id\n * @return {?}\n */\npublic getModalData(id: string): object | any[] | number | string | boolean {\n        return this.modalData.filter((o: any) => o.id === id);\n    }\n/**\n * Retrieve all data associated to any modal.\n * \n * @return {?}\n */\npublic getAllModalData(): any[] {\n        return this.modalData;\n    }\n/**\n * Reset the data attached to a given modal.\n * \n * @param {?} id\n * @return {?}\n */\npublic resetModalData(id: string): void {\n        const /** @type {?} */ i: number = this.modalData.findIndex((o: any) => {\n            return o.id === id;\n        });\n        if (i > -1) {\n            this.modalData.splice(i, 1);\n        }\n    }\n/**\n * Reset all the modal data.\n * Use it wisely.\n * @return {?}\n */\npublic resetAllModalData(): void {\n        this.modalData = [];\n    }\n/**\n * Close the latest opened modal if it has been declared as escapeAble\n * Using a debounce system because one or more modals could be listening\n * escape key press event.\n * @return {?}\n */\npublic closeLatestModal(): void {\n        const /** @type {?} */ me = this;\n        clearTimeout(this.debouncer);\n        this.debouncer = setTimeout(() => {\n            let /** @type {?} */ tmp: ModalInstance | undefined;\n            me.getOpenedModals().forEach((m: ModalInstance) => {\n                if (m.modal.layerPosition > (!!tmp ? tmp.modal.layerPosition : 0 && m.modal.escapeAble)) {\n                    tmp = m;\n                }\n            });\n            return !!tmp ? tmp.modal.close() : false;\n        }, 100);\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction NgxSmartModalService_tsickle_Closure_declarations() {\n/** @type {?} */\nNgxSmartModalService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgxSmartModalService.ctorParameters;\n/** @type {?} */\nNgxSmartModalService.prototype.modalStack;\n/** @type {?} */\nNgxSmartModalService.prototype.modalData;\n/** @type {?} */\nNgxSmartModalService.prototype.debouncer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}